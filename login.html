<!doctype html>
<!--
for Development Purpose -->
<html id="html" data-theme="bumblebee" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../src/index.css">
  </head>
  <body>
  
  <div class="flex justify-items-center justify-center mt-36"> 
    <div class="card card-dash bg-base-100 w-96">
  <div class="card-body">
    <h2 class="card-title text-bold">Enter Clan Tag</h2>
      <input id="inputTag" placeholder="#..." class="input w-full"/>
    <div class="flex justify-end gap-4">
      <button id="skipBtn" class="btn btn-neutral hidden">Skip</button>
      <button id="loginBtn" class="btn btn-primary w-full">Login</button>
    </div>
  <p id="errorCheck" class="text-xs opacity-60 pt-4"></p>
  </div>
</div>
</div>


   <p class="mt-72 text-center opacity-50">
     <a target="_blank" href="https://github.com/mininxd/coc-api">clans stats</a> - <a target="_blank" href="https://mininxd.vercel.app">mininxd.</a>
      </p>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');
</style>

<script type="module">
  skipBtn.addEventListener("click", () => {
    localStorage.setItem("clanTag", "#YUJCC2RG");
  })
  
  loginBtn.addEventListener("click", () => {
    localStorage.setItem("clanTag", inputTag.value);
    window.location.href = "/";
  })

const clanTagStorage = localStorage.getItem("clanTag");

if (clanTagStorage.includes("404_NotFound")) {
  errorCheck.innerHTML = "Clan not found!";
  errorCheck.classList.add("text-center", "text-red-500");
  localStorage.removeItem("clanTag");
} else if (!clanTagStorage.includes("#")) {
  errorCheck.innerHTML = "Clan tag need a '#'";
  errorCheck.classList.add("text-center", "text-red-500");
}



</script>
  </body>
  </html>